(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{7374:function(e,t,r){"use strict";r.r(t);var n,o,a,s,l,i=r(4410);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}t.default=function(e){return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",id:"logo_svg__Layer_1","data-name":"Layer 1",viewBox:"0 0 1024 1024"},e),n||(n=i.createElement("defs",null,i.createElement("style",null,".logo_svg__cls-1{fill:none;stroke:#8c00ff;stroke-miterlimit:10;stroke-width:3px}.logo_svg__cls-2{fill:#8c00ff;stroke-width:0}"))),o||(o=i.createElement("path",{d:"M963.85 324.68c20.18-16.18 34.06-33.03 42.96-45.43-8.17 29.63-26.18 79.44-68.04 126.07-65.77 73.27-182.27 129.64-274.8 97.4-29.47-10.27-55.58-31.22-107.81-73.12-54.71-43.88-56.4-56.59-95.42-80.54-34.9-21.43-86.51-53.09-142.93-39.24-40.55 9.95-67.89 39.46-89.22 62.78-22.82 24.96-36.95 49.54-45.43 66.92 3.87-37.74 13.64-66.74 21.61-85.83 6.89-16.5 59.12-136.41 173.43-163.17 9.74-2.27 24.97-5.86 45.35-5.45 67.58 1.33 118.5 44.45 163.59 82.62 12.39 10.5 82.93 71.4 84.32 72.6a206 206 0 0 1 2.64 2.27c.53.46 59.26 44.16 156.75 33.34 25.95-2.88 81.27-9.73 133.01-51.22Z",className:"logo_svg__cls-2"})),a||(a=i.createElement("path",{d:"M1006.8 279.24c-8.17 29.63-26.18 79.44-68.04 126.07-65.77 73.27-182.27 129.64-274.8 97.4-29.47-10.27-55.58-31.22-107.81-73.12-54.71-43.88-56.4-56.59-95.42-80.54-34.9-21.43-86.51-53.09-142.93-39.24-40.55 9.95-67.89 39.46-89.22 62.78-22.82 24.96-36.95 49.54-45.43 66.92 3.87-37.74 13.64-66.74 21.61-85.83 6.89-16.5 59.12-136.41 173.43-163.17 9.74-2.27 24.97-5.86 45.35-5.45 67.58 1.33 118.5 44.45 163.59 82.62 12.39 10.5 82.93 71.4 84.32 72.6a206 206 0 0 1 2.64 2.27c.53.46 59.26 44.16 156.75 33.34 25.95-2.88 81.27-9.73 133.01-51.22 20.18-16.18 34.06-33.03 42.96-45.43Z",className:"logo_svg__cls-1"})),s||(s=i.createElement("path",{d:"M797.9 651.64c20.19-16.18 34.08-33.01 42.97-45.43-8.17 29.64-26.18 79.44-68.04 126.07-65.77 73.28-182.27 129.66-274.8 97.4-29.47-10.27-55.58-31.22-107.81-73.11-54.71-43.88-56.4-56.61-95.42-80.55-34.91-21.41-86.51-53.09-142.93-39.24-40.55 9.95-67.91 39.47-89.22 62.78-22.82 24.96-36.95 49.54-45.44 66.92 3.89-37.72 13.64-66.74 21.63-85.83 6.88-16.48 59.11-136.4 173.43-163.16 9.74-2.28 24.97-5.86 45.35-5.45 67.58 1.33 118.5 44.43 163.57 82.61 12.41 10.5 82.93 71.42 84.34 72.6.18.16.92.8 1.64 1.42.57.51.98.85 1 .87.53.45 59.26 44.14 156.75 33.34 25.95-2.88 81.27-9.75 133-51.23Z",className:"logo_svg__cls-2"})),l||(l=i.createElement("path",{d:"M840.86 606.21c-8.17 29.64-26.18 79.44-68.04 126.07-65.77 73.28-182.27 129.66-274.8 97.4-29.47-10.27-55.58-31.22-107.81-73.11-54.71-43.88-56.4-56.61-95.42-80.55-34.91-21.41-86.51-53.09-142.93-39.24-40.55 9.95-67.91 39.47-89.22 62.78-22.82 24.96-36.95 49.54-45.44 66.92 3.89-37.72 13.64-66.74 21.63-85.83 6.88-16.48 59.11-136.4 173.43-163.16 9.74-2.28 24.97-5.86 45.35-5.45 67.58 1.33 118.5 44.43 163.57 82.61 12.41 10.5 82.93 71.42 84.34 72.6.18.16.92.8 1.64 1.42.57.51.98.85 1 .87.53.45 59.26 44.14 156.75 33.34 25.95-2.88 81.27-9.75 133-51.23 20.19-16.18 34.08-33.01 42.97-45.43Z",className:"logo_svg__cls-1"})))}},5051:function(e,t,r){Promise.resolve().then(r.bind(r,5830))},7019:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8030).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},5733:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8030).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9178:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8030).Z)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},5830:function(e,t,r){"use strict";r.d(t,{default:function(){return g}});var n=r(7437),o=r(7374),a=r(7138),s=r(2265),l=r(9178),i=r(7019),c=r(5733),u=()=>{let[e,t]=(0,s.useState)(!1);return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"relative flex justify-between",children:[(0,n.jsx)("div",{className:"absolute flex items-center py-3 pl-3 border-2 border-transparent border-r-0 rounded-2xl rounded-r-none gap-1",children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)("input",{name:"password",type:e?"text":"password",placeholder:"Пароль",required:!0,minLength:1,maxLength:100,className:"w-full p-3 pr-10 pl-[45px] bg-transparent border-2 border-neutral-700 rounded-2xl outline-none focus:border-[--primary] placeholder:text-neutral-400 transition-colors duration-150"}),(0,n.jsx)("div",{className:"absolute flex items-center py-3 pl-3 border-2 border-transparent border-r-0 rounded-2xl rounded-r-none gap-1 left-[300px]",children:(0,n.jsx)("button",{type:"button",onClick:()=>t(!e),children:e?(0,n.jsx)(i.Z,{}):(0,n.jsx)(c.Z,{})})})]})})},d=r(6469),p=r(4837),m=r(7776),x=r(1761),f=r(6463),b=r(747),h=r(1826),g=()=>{let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)("required"),i=(0,s.useRef)(null),c=(0,f.useRouter)(),g=async e=>{var n,o;if(e.preventDefault(),t(!0),"success"!==r){(0,x.Jc)("Подтвердите, что вы не робот"),t(!1),null===(n=i.current)||void 0===n||n.reset();return}let a=new FormData(e.currentTarget),{message:s,success:u}=await (0,b.Z)({email:a.get("email"),password:a.get("password"),token:a.get("cf-turnstile-response")},"/api/auth/login","POST","/login","Произошла ошибка при входе");if(t(!1),!u){(0,x.Jc)(s),l("required"),null===(o=i.current)||void 0===o||o.reset();return}(0,x.Qm)(s),c.push("/dashboard")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col items-center p-4 mx-auto max-w-sm space-y-8 text-center bg-neutral-900 rounded-3xl font-primary animate-slide-up",children:[(0,n.jsx)(a.default,{href:"/",children:(0,n.jsx)(o.default,{className:"size-24"})}),(0,n.jsxs)("form",{onSubmit:g,className:"flex flex-col gap-4 w-[350px]",children:[(0,n.jsx)(d.Z,{}),(0,n.jsx)(u,{}),(0,n.jsx)(a.default,{href:"/forgot",className:"text-right text-sm text-neutral-400 hover:text-[--primary] transition-colors duration-200",children:"Забыли пароль?"}),(0,n.jsx)(h.Nc,{siteKey:"0x4AAAAAAAzEFS4LT44gpBU1",ref:i,onError:()=>l("error"),onExpire:()=>l("expired"),onSuccess:()=>l("success"),options:{language:"ru-ru",size:"flexible"}}),(0,n.jsx)(p.M,{loading:e,action:"Войти",classNames:{button:"py-3",container:"py-3 text-sm",spinner:"size-5 border-2"}}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsxs)("p",{className:"text-sm",children:["Впервые на leans.fun?"," ",(0,n.jsx)(a.default,{href:"/sign-up",className:"text-[--primary] font-semibold",children:"Зарегистрироваться"})]})})]})]}),(0,n.jsx)(m.Toaster,{position:"bottom-center",closeButton:!0,duration:3e3,className:"font-primary font-semibold"})]})}},747:function(e,t,r){"use strict";async function n(e,t,r,n,o){window.history.replaceState(null,"",n);try{let n=await fetch(t,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await n.json()}catch(e){return console.error("[".concat(r,"] ").concat(t,":"),e),{message:o,success:!1}}}r.d(t,{Z:function(){return n}})},4837:function(e,t,r){"use strict";r.d(t,{M:function(){return o}});var n=r(7437);let o=e=>{let{loading:t,action:r,disabled:o=!1,classNames:a}=e,s=(null==a?void 0:a.button)||"p-2 w-24 text-sm",l=(null==a?void 0:a.container)||"p-2 w-24 max-w-32 text-sm",i=(null==a?void 0:a.spinner)||"size-4 border-2";return(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)("div",{className:"bg-neutral-800 rounded-2xl flex justify-center items-center border-2 border-neutral-700 "+l,children:(0,n.jsx)("span",{className:"border-neutral-50 border-b-[--primary] rounded-[50%] inline-block box-border animate-spin "+i})}):(0,n.jsx)("button",{type:"submit",className:"text-white font-semibold bg-[--primary] rounded-2xl hover:bg-white hover:text-[--primary] transition-colors duration-200 ease-in-out disabled:bg-neutral-800 disabled:text-neutral-400 disabled:cursor-not-allowed "+s,disabled:o,children:r||"Сохранить"})})}},6469:function(e,t,r){"use strict";var n=r(7437),o=r(4086);t.Z=()=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"absolute flex items-center py-3 pl-3 border-2 border-transparent border-r-0 rounded-2xl rounded-r-none gap-1 w-full",children:(0,n.jsx)(o.Z,{})}),(0,n.jsx)("input",{name:"email",type:"email",placeholder:"Email",minLength:5,maxLength:50,required:!0,className:"relative w-full p-3 pl-[45px] bg-transparent border-2 border-neutral-700 rounded-2xl outline-none focus:border-[--primary] placeholder:text-neutral-400 transition-colors duration-150 z-10"})]})},1761:function(e,t,r){"use strict";r.d(t,{Cj:function(){return i},Jc:function(){return s},Qm:function(){return a},Rr:function(){return l}});var n=r(7776);let o=(e,t,r,o,a,s)=>{var l;n.A[e](t,{description:r,action:{label:o,onClick:s||(()=>{})},classNames:{toast:"bg-neutral-900 border-2 "+(null==a?void 0:a.toast),title:"text-neutral-50",description:"text-neutral-300 "+(null==a?void 0:a.description),icon:null==a?void 0:a.icon,actionButton:null!==(l=null==a?void 0:a.actionButton)&&void 0!==l?l:"!bg-neutral-50 !text-neutral-950 !border !border-neutral-50",cancelButton:"bg-neutral-50 text-neutral-950 border border-neutral-50 ",closeButton:"bg-neutral-800 text-neutral-50 hover:bg-neutral-50 hover:text-[--primary] border border-neutral-50 "+(null==a?void 0:a.closeButton)}})},a=e=>{o("success","Успех",e,"OK",{toast:"border-green-500",description:"text-neutral-300",icon:"text-green-500"})},s=e=>{o("error","Ошибка",e,"OK",{toast:"border-red-500",description:"text-neutral-300",icon:"text-red-500"})},l=(e,t)=>{o("info",t,e,"OK",{toast:"border-[--primary]",description:t?"text-neutral-300":"text-white",icon:"text-[--primary]"})},i=(e,t)=>{o("info",t,e,"OK",{toast:"card-style",description:"primary-text-color",icon:"text-theme fill-theme drop-shadow-theme",closeButton:"hidden",actionButton:"!bg-[--card-color] !text-[--theme-color] !border-2 !border-[--border-color] !border-solid"})}}},function(e){e.O(0,[231,7776,6062,2971,7023,1744],function(){return e(e.s=5051)}),_N_E=e.O()}]);